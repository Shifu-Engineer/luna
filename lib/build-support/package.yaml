_config/lib: !include "../../config/hpack-common.yaml"

name: build-support
synopsis: Utility library to support building, testing and packaging of Luna project packages.
version: "1.0"
license: Apache-2.0
author: New Byte Order <contact@newbyteorder.com>
maintainer: New Byte Order <contact@newbyteorder.com>

default-extensions: *luna-extensions

library:
  source-dirs: src
  when:
  - condition: os(windows)  
    cxx-sources: src/cbits/Console.cpp
    cxx-options: -std=gnu++17
    extra-libraries: stdc++

dependencies:
- async
- attoparsec
- base
- bytestring
- Cabal
- conduit
- conduit-extra
- containers
- directory
- errors
- extra
- file-embed
- filepath
- Glob
- http-conduit
- http-types
- lens
- MissingH
- neat-interpolation
- pecoff-fork
- process
- prologue
- safe-exceptions
- streaming-commons
- typed-process
- temporary
- text
- unix-compat
- unliftio-core
- utf8-string
when:
  - condition: os(windows)
    dependencies: Win32